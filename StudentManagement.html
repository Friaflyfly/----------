<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å­¦å‘˜ç®¡ç† - å¤©åˆçŸ­å‰§å‰ªè¾‘æ¥å•å¹³å°</title>
  
  <!-- Ant Design CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@5.12.8/dist/reset.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@5.12.8/dist/antd.min.css">
  
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    .appLayout {
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 200px;
      background: #fff;
      box-shadow: 2px 0 8px rgba(0, 0, 0, 0.06);
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      overflow-y: auto;
      z-index: 100;
    }

    .sidebarHeader {
      padding: 20px 16px;
      border-bottom: 1px solid #f0f0f0;
    }

    .logo {
      font-size: 18px;
      font-weight: 600;
      color: #1890ff;
      text-decoration: none;
      display: block;
    }

    .menu {
      padding: 16px 0;
    }

    .menuItem {
      display: block;
      padding: 12px 24px;
      color: #262626;
      text-decoration: none;
      font-size: 14px;
      transition: all 0.3s;
      border-left: 3px solid transparent;
    }

    .menuItem:hover {
      background-color: #f0f0f0;
      color: #1890ff;
    }

    .menuItem.active {
      background-color: #e6f7ff;
      color: #1890ff;
      border-left-color: #1890ff;
      font-weight: 500;
    }

    .menuItemIcon {
      margin-right: 8px;
      font-size: 16px;
    }

    .menuGroup {
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid #f0f0f0;
    }

    .menuGroupTitle {
      padding: 8px 24px;
      font-size: 12px;
      color: #8c8c8c;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .mainContent {
      flex: 1;
      margin-left: 200px;
      min-height: 100vh;
      background: #f5f5f5;
    }

    .studentPage {
      padding: 24px;
    }

    .pageHeader {
      background: #fff;
      padding: 16px 24px;
      border-radius: 8px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .contentCard {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    @media (max-width: 768px) {
      .sidebar {
        display: none;
      }

      .mainContent {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  
  <!-- Day.js -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.10/dayjs.min.js"></script>
  
  <!-- Ant Design JS -->
  <script src="https://cdn.jsdelivr.net/npm/antd@5.12.8/dist/antd.min.js"></script>
  
  <!-- Babel Standalone for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;
    const { Card, Table, Button, Tag, Space, Select, Input, Tabs, Typography, Modal, Form, message, Popconfirm } = antd;
    const { Title } = Typography;
    const { Option } = Select;
    const { TabPane } = Tabs;
    const { TextArea } = Input;
    const { Search } = Input;

    const StudentManagement = () => {
      const [activeTab, setActiveTab] = useState('talent');
      const [talentList, setTalentList] = useState([]);
      const [pendingList, setPendingList] = useState([]);
      const [loading, setLoading] = useState(false);
      const [freezeModalVisible, setFreezeModalVisible] = useState(false);
      const [freezeForm] = Form.useForm();
      const [currentStudent, setCurrentStudent] = useState(null);
      const [studentModalVisible, setStudentModalVisible] = useState(false);
      const [studentModalMode, setStudentModalMode] = useState('add'); // 'add' | 'edit'
      const [editingStudent, setEditingStudent] = useState(null);
      const [studentForm] = Form.useForm();

      useEffect(() => {
        loadData();
      }, []);

      const loadData = () => {
        setLoading(true);
        
        // åŠ è½½äººæ‰åº“
        let talent = JSON.parse(localStorage.getItem('talentPool') || '[]');
        if (talent.length === 0) {
          talent = generateMockTalent();
          localStorage.setItem('talentPool', JSON.stringify(talent));
        }
        setTalentList(talent);

        // åŠ è½½å…¥é©»å®¡æ ¸é˜Ÿåˆ—
        let pending = JSON.parse(localStorage.getItem('pendingStudents') || '[]');
        if (pending.length === 0) {
          pending = generateMockPending();
          localStorage.setItem('pendingStudents', JSON.stringify(pending));
        }
        setPendingList(pending);

        setLoading(false);
      };

      const generateMockTalent = () => {
        const statuses = ['Active', 'Training', 'Paused', 'Frozen', 'Exited'];
        const genders = ['ç”·', 'å¥³'];
        const classes = ['å‰ªè¾‘ä¸€ç­', 'å‰ªè¾‘äºŒç­', 'è°ƒè‰²ç­', 'ç‰¹æ•ˆç­', 'ç»¼åˆç­'];
        const takerRoles = ['å­¦å‘˜', 'å‰ªè¾‘å¸ˆ', 'è°ƒè‰²å¸ˆ', 'ç‰¹æ•ˆå¸ˆ'];
        return Array.from({ length: 20 }, (_, i) => ({
          id: `student_${String(i + 1).padStart(6, '0')}`,
          nickname: `å­¦å‘˜${i + 1}`,
          username: `user${i + 1}`,
          phone: `138${String(10000000 + i).slice(-8)}`,
          gender: genders[i % 2],
          className: classes[i % classes.length],
          takerRole: takerRoles[i % takerRoles.length],
          status: statuses[Math.floor(Math.random() * statuses.length)],
          skills: ['å‰ªè¾‘', 'è°ƒè‰²', 'ç‰¹æ•ˆ'].slice(0, Math.floor(Math.random() * 3) + 1),
          level: Math.floor(Math.random() * 5) + 1,
          concurrencyUsed: Math.floor(Math.random() * 3),
          concurrencyLimit: 5,
          totalOrders: Math.floor(Math.random() * 50),
          onTimeRate: (Math.random() * 0.3 + 0.7).toFixed(2),
          passRate: (Math.random() * 0.2 + 0.8).toFixed(2),
          revisionRounds: (Math.random() * 2 + 1).toFixed(1),
          freezeReason: i === 2 ? 'è¿åå¹³å°è§„åˆ™' : null,
        }));
      };

      const generateMockPending = () => {
        return [
          { id: 'pending_1', nickname: 'å¼ ä¸‰', username: 'zhangsan', phone: '13800138001', gender: 'ç”·', className: 'å‰ªè¾‘ä¸€ç­', takerRole: 'å‰ªè¾‘å¸ˆ', applyTime: dayjs().subtract(2, 'day').format('YYYY-MM-DD HH:mm:ss'), portfolio: 'portfolio1.zip' },
          { id: 'pending_2', nickname: 'æå››', username: 'lisi', phone: '13800138002', gender: 'å¥³', className: 'è°ƒè‰²ç­', takerRole: 'è°ƒè‰²å¸ˆ', applyTime: dayjs().subtract(1, 'day').format('YYYY-MM-DD HH:mm:ss'), portfolio: 'portfolio2.zip' },
          { id: 'pending_3', nickname: 'ç‹äº”', username: 'wangwu', phone: '13800138003', gender: 'ç”·', className: 'ç‰¹æ•ˆç­', takerRole: 'ç‰¹æ•ˆå¸ˆ', applyTime: dayjs().subtract(3, 'hour').format('YYYY-MM-DD HH:mm:ss') },
        ];
      };

      const handleApprove = (student) => {
        const updatedPending = pendingList.filter(s => s.id !== student.id);
        setPendingList(updatedPending);
        localStorage.setItem('pendingStudents', JSON.stringify(updatedPending));

        const newTalent = {
          ...student,
          id: `student_${Date.now()}`,
          phone: student.phone || '-',
          gender: student.gender || '-',
          className: student.className || '-',
          takerRole: student.takerRole || 'å‰ªè¾‘å¸ˆ',
          status: 'Training',
          skills: [],
          level: 1,
          concurrencyUsed: 0,
          concurrencyLimit: 5,
          totalOrders: 0,
          onTimeRate: '0.00',
          passRate: '0.00',
          revisionRounds: '0.0',
        };
        const updatedTalent = [...talentList, newTalent];
        setTalentList(updatedTalent);
        localStorage.setItem('talentPool', JSON.stringify(updatedTalent));
        message.success('å·²é€šè¿‡å…¥é©»å®¡æ ¸');
      };

      const handleReject = (student, reason) => {
        const updatedPending = pendingList.filter(s => s.id !== student.id);
        setPendingList(updatedPending);
        localStorage.setItem('pendingStudents', JSON.stringify(updatedPending));
        message.success('å·²é©³å›');
      };

      const handleFreeze = () => {
        freezeForm.validateFields().then(values => {
          const updatedTalent = talentList.map(s => 
            s.id === currentStudent.id 
              ? { ...s, status: 'Frozen', freezeReason: values.reason }
              : s
          );
          setTalentList(updatedTalent);
          localStorage.setItem('talentPool', JSON.stringify(updatedTalent));
          setFreezeModalVisible(false);
          freezeForm.resetFields();
          message.success('å·²å†»ç»“');
        });
      };

      const handleUnfreeze = (student) => {
        const updatedTalent = talentList.map(s => 
          s.id === student.id 
            ? { ...s, status: 'Active', freezeReason: null }
            : s
        );
        setTalentList(updatedTalent);
        localStorage.setItem('talentPool', JSON.stringify(updatedTalent));
        message.success('å·²è§£å†»');
      };

      const handleStatusChange = (student, newStatus) => {
        const updatedTalent = talentList.map(s => 
          s.id === student.id ? { ...s, status: newStatus } : s
        );
        setTalentList(updatedTalent);
        localStorage.setItem('talentPool', JSON.stringify(updatedTalent));
        message.success('çŠ¶æ€å·²æ›´æ–°');
      };

      const handleViewOrders = (student) => {
        message.info(`æŸ¥çœ‹${student.nickname}çš„æ¥å•è¯¦æƒ…åŠŸèƒ½å¼€å‘ä¸­`);
      };

      const handleOpenAdd = () => {
        setEditingStudent(null);
        setStudentModalMode('add');
        studentForm.resetFields();
        studentForm.setFieldsValue({ takerRole: 'å‰ªè¾‘å¸ˆ', gender: 'ç”·' });
        setStudentModalVisible(true);
      };

      const handleOpenEdit = (record) => {
        setEditingStudent(record);
        setStudentModalMode('edit');
        studentForm.setFieldsValue({
          nickname: record.nickname,
          username: record.username,
          phone: record.phone || '',
          gender: record.gender || 'ç”·',
          className: record.className || '',
          takerRole: record.takerRole || 'å‰ªè¾‘å¸ˆ',
          status: record.status,
        });
        setStudentModalVisible(true);
      };

      const handleStudentSubmit = () => {
        studentForm.validateFields().then((values) => {
          if (studentModalMode === 'add') {
            const newId = `student_${String(Date.now()).slice(-6)}`;
            const newStudent = {
              id: newId,
              nickname: values.nickname,
              username: values.username,
              phone: values.phone || '',
              gender: values.gender,
              className: values.className || '',
              takerRole: values.takerRole || 'å‰ªè¾‘å¸ˆ',
              status: 'Training',
              skills: [],
              level: 1,
              concurrencyUsed: 0,
              concurrencyLimit: 5,
              totalOrders: 0,
              onTimeRate: '0.00',
              passRate: '0.00',
              revisionRounds: '0.0',
              freezeReason: null,
            };
            const updated = [...talentList, newStudent];
            setTalentList(updated);
            localStorage.setItem('talentPool', JSON.stringify(updated));
            message.success('æ–°å¢å­¦å‘˜æˆåŠŸ');
          } else {
            const updated = talentList.map((s) =>
              s.id === editingStudent.id
                ? { ...s, nickname: values.nickname, username: values.username, phone: values.phone, gender: values.gender, className: values.className, takerRole: values.takerRole || 'å‰ªè¾‘å¸ˆ', status: values.status }
                : s
            );
            setTalentList(updated);
            localStorage.setItem('talentPool', JSON.stringify(updated));
            message.success('ä¿å­˜æˆåŠŸ');
          }
          setStudentModalVisible(false);
          studentForm.resetFields();
        }).catch(() => {});
      };

      const getStatusTag = (status) => {
        const statusMap = {
          'Active': { color: 'green', text: 'å¯æ¥å•' },
          'Training': { color: 'blue', text: 'åœ¨è®­' },
          'Paused': { color: 'orange', text: 'æš‚åœ' },
          'Frozen': { color: 'red', text: 'å†»ç»“' },
          'Exited': { color: 'default', text: 'é€€å‡º' },
        };
        const config = statusMap[status] || { color: 'default', text: status };
        return <Tag color={config.color}>{config.text}</Tag>;
      };

      const talentColumns = [
        { title: 'å­¦å‘˜ID', dataIndex: 'id', key: 'id', width: 150 },
        { title: 'æ˜µç§°', dataIndex: 'nickname', key: 'nickname', width: 120 },
        { title: 'æ‰‹æœºå·', dataIndex: 'phone', key: 'phone', width: 130, render: (v) => v || '-' },
        { title: 'æ€§åˆ«', dataIndex: 'gender', key: 'gender', width: 80, render: (v) => v || '-' },
        { title: 'ç­çº§', dataIndex: 'className', key: 'className', width: 100, render: (v) => v || '-' },
        { title: 'æ¥å•è§’è‰²', dataIndex: 'takerRole', key: 'takerRole', width: 100, render: (v) => v || '-' },
        { title: 'çŠ¶æ€', dataIndex: 'status', key: 'status', width: 100, render: getStatusTag },
        { title: 'æŠ€èƒ½æ ‡ç­¾', dataIndex: 'skills', key: 'skills', width: 150, render: (skills) => (
          <Space size="small">{skills.map((s, i) => <Tag key={i}>{s}</Tag>)}</Space>
        )},
        { title: 'ç­‰çº§', dataIndex: 'level', key: 'level', width: 80 },
        { title: 'å¹¶å‘å ç”¨/ä¸Šé™', key: 'concurrency', width: 120, render: (_, record) => 
          `${record.concurrencyUsed}/${record.concurrencyLimit}` },
        { title: 'æ€»æ¥å•é‡', dataIndex: 'totalOrders', key: 'totalOrders', width: 100, render: (count, record) => (
          <a onClick={() => handleViewOrders(record)} style={{ color: '#1890ff', cursor: 'pointer' }}>{count}</a>
        )},
        { title: 'å‡†æ—¶ç‡', dataIndex: 'onTimeRate', key: 'onTimeRate', width: 100, render: (rate) => `${(rate * 100).toFixed(0)}%` },
        { title: 'é€šè¿‡ç‡', dataIndex: 'passRate', key: 'passRate', width: 100, render: (rate) => `${(rate * 100).toFixed(0)}%` },
        { title: 'ä¿®æ”¹è½®æ¬¡', dataIndex: 'revisionRounds', key: 'revisionRounds', width: 100 },
        { title: 'å†»ç»“åŸå› ', dataIndex: 'freezeReason', key: 'freezeReason', width: 150, render: (reason) => reason || '-' },
        { title: 'æ“ä½œ', key: 'action', width: 200, render: (_, record) => (
          <Space size="small">
            <Button size="small" onClick={() => handleOpenEdit(record)}>ç¼–è¾‘</Button>
            {record.status === 'Active' && (
              <>
                <Button size="small" onClick={() => handleStatusChange(record, 'Paused')}>æš‚åœ</Button>
                <Button size="small" danger onClick={() => { setCurrentStudent(record); setFreezeModalVisible(true); }}>å†»ç»“</Button>
              </>
            )}
            {record.status === 'Paused' && (
              <Button size="small" onClick={() => handleStatusChange(record, 'Active')}>æ¿€æ´»</Button>
            )}
            {record.status === 'Frozen' && (
              <Button size="small" onClick={() => handleUnfreeze(record)}>è§£å†»</Button>
            )}
          </Space>
        )},
      ];

      const pendingColumns = [
        { title: 'ç”³è¯·æ—¶é—´', dataIndex: 'applyTime', key: 'applyTime', width: 180 },
        { title: 'æ˜µç§°', dataIndex: 'nickname', key: 'nickname', width: 120 },
        { title: 'ç”¨æˆ·å', dataIndex: 'username', key: 'username', width: 120 },
        { title: 'æ‰‹æœºå·', dataIndex: 'phone', key: 'phone', width: 130, render: (v) => v || '-' },
        { title: 'æ€§åˆ«', dataIndex: 'gender', key: 'gender', width: 80, render: (v) => v || '-' },
        { title: 'ç­çº§', dataIndex: 'className', key: 'className', width: 100, render: (v) => v || '-' },
        { title: 'æ¥å•è§’è‰²', dataIndex: 'takerRole', key: 'takerRole', width: 100, render: (v) => v || '-' },
        { title: 'ä½œå“é›†', dataIndex: 'portfolio', key: 'portfolio', width: 150, render: (portfolio) => 
          portfolio ? <a href="#" onClick={(e) => { e.preventDefault(); message.info('ä¸‹è½½ä½œå“é›†'); }}>ä¸‹è½½</a> : <span style={{ color: '#8c8c8c' }}>æœªä¸Šä¼ </span>
        },
        { title: 'æ“ä½œ', key: 'action', width: 200, render: (_, record) => (
          <Space>
            <Popconfirm title="ç¡®å®šé€šè¿‡ï¼Ÿ" onConfirm={() => handleApprove(record)}>
              <Button type="primary" size="small">é€šè¿‡</Button>
            </Popconfirm>
            <Popconfirm 
              title="ç¡®å®šé©³å›ï¼Ÿ" 
              onConfirm={() => {
                Modal.confirm({
                  title: 'é©³å›åŸå› ',
                  content: <Input placeholder="è¯·è¾“å…¥é©³å›åŸå› " id="rejectReason" />,
                  onOk: () => {
                    const reason = document.getElementById('rejectReason').value;
                    if (!reason) {
                      message.error('è¯·å¡«å†™é©³å›åŸå› ');
                      return Promise.reject();
                    }
                    handleReject(record, reason);
                  },
                });
              }}
            >
              <Button danger size="small">é©³å›</Button>
            </Popconfirm>
          </Space>
        )},
      ];

      return (
        <div className="appLayout">
          {/* å·¦ä¾§å¯¼èˆªæ  */}
          <div className="sidebar">
            <div className="sidebarHeader">
              <a href="Home.html" className="logo">ğŸ¬ å¤©åˆçŸ­å‰§å¹³å°</a>
            </div>
            <nav className="menu">
              <a href="Home.html" className="menuItem">
                <span className="menuItemIcon">ğŸ </span>
                é¦–é¡µ
              </a>
              <a href="ProjectHall.html" className="menuItem">
                <span className="menuItemIcon">ğŸ“‹</span>
                æ¥å•å¤§å…
              </a>
              <a href="Leaderboard.html" className="menuItem">
                <span className="menuItemIcon">ğŸ†</span>
                å¤©æ¢¯æ¦œå•
              </a>
              <a href="Account.html" className="menuItem">
                <span className="menuItemIcon">ğŸ’°</span>
                è´¦æˆ·ä¸æ”¶ç›Š
              </a>
              <a href="MyProjects.html" className="menuItem">
                <span className="menuItemIcon">ğŸš€</span>
                æˆ‘çš„é¡¹ç›®
              </a>
              
              <div className="menuGroup">
                <div className="menuGroupTitle">åå°ç®¡ç†</div>
                <a href="ReviewQueue.html" className="menuItem">
                  <span className="menuItemIcon">âœ…</span>
                  ä»»åŠ¡å®¡æ ¸
                </a>
                <a href="ProjectManagement.html" className="menuItem">
                  <span className="menuItemIcon">ğŸ“‹</span>
                  é¡¹ç›®ç®¡ç†
                </a>
                <a href="StudentManagement.html" className="menuItem active">
                  <span className="menuItemIcon">ğŸ‘¥</span>
                  å­¦å‘˜ç®¡ç†
                </a>
                <a href="FinanceManagement.html" className="menuItem">
                  <span className="menuItemIcon">ğŸ’°</span>
                  è´¢åŠ¡å¯¹è´¦
                </a>
                <a href="DashboardManagement.html" className="menuItem">
                  <span className="menuItemIcon">ğŸ“Š</span>
                  æ¦œå•ä¸æ•°æ®
                </a>
                <a href="DataBoard.html" className="menuItem">
                  <span className="menuItemIcon">ğŸ“ˆ</span>
                  æ•°æ®çœ‹æ¿
                </a>
              </div>
            </nav>
          </div>

          {/* ä¸»å†…å®¹åŒº */}
          <div className="mainContent">
            <div className="studentPage">
              <div className="pageHeader">
                <Title level={2} style={{ margin: 0 }}>å­¦å‘˜ç®¡ç†</Title>
                <Button type="primary" onClick={handleOpenAdd}>æ–°å¢å­¦å‘˜</Button>
              </div>

              <div className="contentCard">
                <Tabs activeKey={activeTab} onChange={setActiveTab}>
                  <TabPane tab="äººæ‰åº“" key="talent">
                    <Table
                      columns={talentColumns}
                      dataSource={talentList}
                      loading={loading}
                      rowKey="id"
                      scroll={{ x: 1400 }}
                      pagination={{ pageSize: 20, showTotal: (total) => `å…± ${total} æ¡` }}
                    />
                  </TabPane>
                  <TabPane tab="å…¥é©»å®¡æ ¸é˜Ÿåˆ—" key="pending">
                    <Table
                      columns={pendingColumns}
                      dataSource={pendingList}
                      loading={loading}
                      rowKey="id"
                      pagination={{ pageSize: 20, showTotal: (total) => `å…± ${total} æ¡` }}
                    />
                  </TabPane>
                </Tabs>
              </div>
            </div>
          </div>

          {/* æ–°å¢/ç¼–è¾‘å­¦å‘˜å¼¹çª— */}
          <Modal
            title={studentModalMode === 'add' ? 'æ–°å¢å­¦å‘˜' : 'ç¼–è¾‘å­¦å‘˜'}
            open={studentModalVisible}
            onOk={handleStudentSubmit}
            onCancel={() => { setStudentModalVisible(false); studentForm.resetFields(); setEditingStudent(null); }}
            okText={studentModalMode === 'add' ? 'ç¡®å®šæ–°å¢' : 'ä¿å­˜'}
            cancelText="å–æ¶ˆ"
            width={520}
          >
            <Form form={studentForm} layout="vertical" style={{ marginTop: 16 }}>
              <Form.Item name="nickname" label="æ˜µç§°" rules={[{ required: true, message: 'è¯·è¾“å…¥æ˜µç§°' }]}>
                <Input placeholder="è¯·è¾“å…¥æ˜µç§°" />
              </Form.Item>
              <Form.Item name="username" label="ç”¨æˆ·å" rules={[{ required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å' }]}>
                <Input placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
              </Form.Item>
              <Form.Item name="phone" label="æ‰‹æœºå·">
                <Input placeholder="è¯·è¾“å…¥æ‰‹æœºå·" />
              </Form.Item>
              <Form.Item name="gender" label="æ€§åˆ«">
                <Select placeholder="è¯·é€‰æ‹©æ€§åˆ«">
                  <Option value="ç”·">ç”·</Option>
                  <Option value="å¥³">å¥³</Option>
                </Select>
              </Form.Item>
              <Form.Item name="className" label="ç­çº§">
                <Input placeholder="å¦‚ï¼šå‰ªè¾‘ä¸€ç­" />
              </Form.Item>
              <Form.Item name="takerRole" label="æ¥å•è§’è‰²">
                <Select placeholder="è¯·é€‰æ‹©æ¥å•è§’è‰²">
                  <Option value="å­¦å‘˜">å­¦å‘˜</Option>
                  <Option value="å‰ªè¾‘å¸ˆ">å‰ªè¾‘å¸ˆ</Option>
                  <Option value="è°ƒè‰²å¸ˆ">è°ƒè‰²å¸ˆ</Option>
                  <Option value="ç‰¹æ•ˆå¸ˆ">ç‰¹æ•ˆå¸ˆ</Option>
                </Select>
              </Form.Item>
              {studentModalMode === 'edit' && (
                <Form.Item name="status" label="çŠ¶æ€">
                  <Select placeholder="è¯·é€‰æ‹©çŠ¶æ€">
                    <Option value="Active">å¯æ¥å•</Option>
                    <Option value="Training">åœ¨è®­</Option>
                    <Option value="Paused">æš‚åœ</Option>
                    <Option value="Frozen">å†»ç»“</Option>
                    <Option value="Exited">é€€å‡º</Option>
                  </Select>
                </Form.Item>
              )}
            </Form>
          </Modal>

          {/* å†»ç»“å¼¹çª— */}
          <Modal
            title="å†»ç»“å­¦å‘˜"
            open={freezeModalVisible}
            onOk={handleFreeze}
            onCancel={() => { setFreezeModalVisible(false); freezeForm.resetFields(); }}
            okText="ç¡®è®¤å†»ç»“"
            cancelText="å–æ¶ˆ"
          >
            <Form form={freezeForm} layout="vertical">
              <Form.Item
                name="reason"
                label="å†»ç»“åŸå› "
                rules={[{ required: true, message: 'è¯·å¡«å†™å†»ç»“åŸå› ' }]}
              >
                <TextArea rows={4} placeholder="è¯·å¡«å†™å†»ç»“åŸå› " />
              </Form.Item>
            </Form>
          </Modal>
        </div>
      );
    };

    window.addEventListener('load', function() {
      try {
        ReactDOM.render(<StudentManagement />, document.getElementById('root'));
      } catch (error) {
        console.error('æ¸²æŸ“é”™è¯¯:', error);
        document.getElementById('root').innerHTML = '<div style="padding: 20px; color: red;">é¡µé¢åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ã€‚</div>';
      }
    });
  </script>
</body>
</html>
